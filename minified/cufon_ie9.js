/*
 * Copyright (c) 2011 Simo Kinnunen.
 * Licensed under the MIT license.
 *
 * @version ${Version}
 */
var Cufon=(function(){var d=function(){return d.replace.apply(null,arguments)};var q=d.DOM={ready:(function(){var N=false,O={loaded:1,complete:1};var L=[],M=function(){if(N){return}N=true;for(var P;P=L.shift();P()){}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",M,false);window.addEventListener("pageshow",M,false)}if(!window.opera&&document.readyState){(function(){O[document.readyState]?M():setTimeout(arguments.callee,10)})()}if(document.readyState&&document.createStyleSheet){(function(){try{document.body.doScroll("left");M()}catch(P){setTimeout(arguments.callee,1)}})()}B(window,"load",M);return function(P){if(!arguments.length){M()}else{N?P():L.push(P)}}})(),root:function(){return document.documentElement||document.body},strict:(function(){var L;if(document.compatMode=="BackCompat"){return false}L=document.doctype;if(L){return !/frameset|transitional/i.test(L.publicId)}L=document.firstChild;if(L.nodeType!=8||/^DOCTYPE.+(transitional|frameset)/i.test(L.data)){return false}return true})()};var k=d.CSS={Size:function(M,L){this.value=parseFloat(M);this.unit=String(M).match(/[a-z%]*$/)[0]||"px";this.convert=function(N){return N/L*this.value};this.convertFrom=function(N){return N/this.value*L};this.toString=function(){return this.value+this.unit}},addClass:function(M,L){var N=M.className;M.className=N+(N&&" ")+L;return M},color:C(function(M){var L={};L.color=M.replace(/^rgba\((.*?),\s*([\d.]+)\)/,function(O,N,P){L.opacity=parseFloat(P);return"rgb("+N+")"});return L}),fontStretch:C(function(L){if(typeof L=="number"){return L}if(/%$/.test(L)){return parseFloat(L)/100}return{"ultra-condensed":0.5,"extra-condensed":0.625,condensed:0.75,"semi-condensed":0.875,"semi-expanded":1.125,expanded:1.25,"extra-expanded":1.5,"ultra-expanded":2}[L]||1}),getStyle:function(M){var L=document.defaultView;if(L&&L.getComputedStyle){return new t(L.getComputedStyle(M,null))}if(M.currentStyle){return new t(M.currentStyle)}return new t(M.style)},gradient:C(function(P){var Q={id:P,type:P.match(/^-([a-z]+)-gradient\(/)[1],stops:[]},O=P.substr(P.indexOf("(")).match(/([\d.]+=)?(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)/ig);for(var N=0,L=O.length,M;N<L;++N){M=O[N].split("=",2).reverse();Q.stops.push([M[1]||N/(L-1),M[0]])}return Q}),quotedList:C(function(O){var N=[],M=/\s*((["'])([\s\S]*?[^\\])\2|[^,]+)\s*/g,L;while(L=M.exec(O)){N.push(L[3]||L[1])}return N}),recognizesMedia:C(function(Q){var M=document.createElement("style"),L,N,O;M.type="text/css";M.media=Q;try{M.appendChild(document.createTextNode("/**/"))}catch(P){}N=E("head")[0];N.insertBefore(M,N.firstChild);L=(M.sheet||M.styleSheet);O=L&&!L.disabled;N.removeChild(M);return O}),removeClass:function(N,L){var M=RegExp("(?:^|\\s+)"+L+"(?=\\s|$)","g");N.className=N.className.replace(M,"");return N},supports:function(L,N){var M=document.createElement("span").style;if(M[L]===undefined){return false}M[L]=N;return M[L]===N},textAlign:function(O,N,L,M){if(N.get("textAlign")=="right"){if(L>0){O=" "+O}}else{if(L<M-1){O+=" "}}return O},textShadow:C(function(P){if(P=="none"){return null}var N=[],Q={},O,L=0;var M=/(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)|(-?[\d.]+[a-z%]*)|,/ig;while(O=M.exec(P)){if(O[0]==","){N.push(Q);Q={};L=0}else{if(O[1]){Q.color=O[1]}else{Q[["offX","offY","blur"][L++]]=O[2]}}}N.push(Q);return N}),textTransform:(function(){var L={uppercase:function(M){return M.toUpperCase()},lowercase:function(M){return M.toLowerCase()},capitalize:function(M){return M.replace(/(?:^|\s)./g,function(N){return N.toUpperCase()})}};return function(O,N){var M=L[N.get("textTransform")];return M?M(O):O}})(),whiteSpace:(function(){var N={inline:1,"inline-block":1,"run-in":1};var M=/^\s+/,L=/\s+$/;return function(S,P,Q,O,R){if(R){return S.replace(M,"").replace(L,"")}if(O){if(O.nodeName.toLowerCase()=="br"){S=S.replace(M,"")}}if(N[P.get("display")]){return S}if(!Q.previousSibling){S=S.replace(M,"")}if(!Q.nextSibling){S=S.replace(L,"")}return S}})()};k.ready=(function(){var P=!k.recognizesMedia("all"),L=false;var O=[],T=function(){P=true;for(var V;V=O.shift();V()){}};var U=E("link"),R=E("style");var N={"":1,"text/css":1};function M(V){if(!N[V.type.toLowerCase()]){return true}return V.disabled||S(V.sheet,V.media||"screen")}function S(X,aa){if(!k.recognizesMedia(aa||"all")){return true}if(!X||X.disabled){return false}try{var ab=X.cssRules,Z;if(ab){search:for(var W=0,V=ab.length;Z=ab[W],W<V;++W){switch(Z.type){case 2:break;case 3:if(!S(Z.styleSheet,Z.media.mediaText)){return false}break;default:break search}}}}catch(Y){}return true}function Q(){if(document.createStyleSheet){return true}var W,V;for(V=0;W=U[V];++V){if(W.rel.toLowerCase()=="stylesheet"&&!M(W)){return false}}for(V=0;W=R[V];++V){if(!M(W)){return false}}return true}q.ready(function(){if(!L){L=k.getStyle(document.body).isUsable()}if(P||(L&&Q())){T()}else{setTimeout(arguments.callee,10)}});return function(V){if(P){V()}else{O.push(V)}}})();function A(N){var M=this.face=N.face,L={"\u0020":1,"\u00a0":1,"\u3000":1};this.glyphs=(function(P){var Q,O={"\u2011":"\u002d","\u00ad":"\u2011"};for(Q in O){if(!y(O,Q)){continue}if(!P[Q]){P[Q]=P[O[Q]]}}return P})(N.glyphs);this.w=N.w;this.baseSize=parseInt(M["units-per-em"],10);this.family=M["font-family"].toLowerCase();this.weight=M["font-weight"];this.style=M["font-style"]||"normal";this.viewBox=(function(){var P=M.bbox.split(/\s+/);var O={minX:parseInt(P[0],10),minY:parseInt(P[1],10),maxX:parseInt(P[2],10),maxY:parseInt(P[3],10)};O.width=O.maxX-O.minX;O.height=O.maxY-O.minY;O.toString=function(){return[this.minX,this.minY,this.width,this.height].join(" ")};return O})();this.ascent=-parseInt(M.ascent,10);this.descent=-parseInt(M.descent,10);this.height=-this.ascent+this.descent;this.spacing=function(W,Y,U){var Z=this.glyphs,V,P,Q,aa=[],O=0,X,T=-1,S=-1,R;while(R=W[++T]){V=Z[R]||this.missingGlyph;if(!V){continue}if(P){O-=Q=P[R]||0;aa[S]-=Q}X=V.w;if(isNaN(X)){X=+this.w}if(X>0){X+=Y;if(L[R]){X+=U}}O+=aa[++S]=~~X;P=V.k}aa.total=O;return aa}}function l(){var L={},M={oblique:"italic",italic:"oblique"};this.add=function(N){(L[N.style]||(L[N.style]={}))[N.weight]=N};this.get=function(S,P){var R=L[S]||L[M[S]]||L.normal||L.italic||L.oblique;if(!R){return null}P={normal:400,bold:700}[P]||parseInt(P,10);if(R[P]){return R[P]}var O={1:1,99:0}[P%100],U=[],Q,N;if(O===undefined){O=P>400}if(P==500){P=400}for(var T in R){if(!y(R,T)){continue}T=parseInt(T,10);if(!Q||T<Q){Q=T}if(!N||T>N){N=T}U.push(T)}if(P<Q){P=Q}if(P>N){P=N}U.sort(function(W,V){return(O?(W>=P&&V>=P)?W<V:W>V:(W<=P&&V<=P)?W>V:W<V)?-1:1});return R[U[0]]}}function w(){function M(P,R){try{if(P.contains){return P.contains(R)}return P.compareDocumentPosition(R)&16}catch(Q){}return false}function L(Q){var P=Q.relatedTarget;if(P&&M(this,P)){return}N(this,Q.type=="mouseover")}function O(P){if(!P){P=window.event}N(P.target||P.srcElement,P.type=="mouseenter")}function N(P,Q){setTimeout(function(){var R=c.get(P).options;if(Q){R=z(R,R.hover);R._mediatorMode=1}d.replace(P,R,true)},10)}this.attach=function(P){if(P.onmouseenter===undefined){B(P,"mouseover",L);B(P,"mouseout",L)}else{B(P,"mouseenter",O);B(P,"mouseleave",O)}};this.detach=function(P){if(P.onmouseenter===undefined){I(P,"mouseover",L);I(P,"mouseout",L)}else{I(P,"mouseenter",O);I(P,"mouseleave",O)}}}function p(){var M=[],N={};function L(R){var Q=[],P;for(var O=0;P=R[O];++O){Q[O]=M[N[P]]}return Q}this.add=function(P,O){N[P]=M.push(O)-1};this.repeat=function(){var O=arguments.length?L(arguments):M,P;for(var Q=0;P=O[Q++];){d.replace(P[0],P[1],true)}}}function n(){var N={},M=0;function L(O){return O.cufid||(O.cufid=++M)}this.get=function(O){var P=L(O);return N[P]||(N[P]={})}}function t(M){var L={},N={};this.extend=function(P){for(var O in P){if(y(P,O)){L[O]=P[O]}}return this};this.get=function(O){return L[O]!=undefined?L[O]:M[O]};this.getSize=function(O,P){return N[O]||(N[O]=new k.Size(this.get(O),P))};this.isUsable=function(){return !!M}}function B(M,L,N){if(M.addEventListener){M.addEventListener(L,N,false)}else{if(M.attachEvent){M.attachEvent("on"+L,N)}}}function u(N,M){if(M._mediatorMode){return N}var O=c.get(N);var L=O.options;if(L){if(L===M){return N}if(L.hover){o.detach(N)}}if(M.hover&&M.hoverables[N.nodeName.toLowerCase()]){o.attach(N)}O.options=M;return N}function C(L){var M={};return function(N){if(!y(M,N)){M[N]=L.apply(null,arguments)}return M[N]}}function s(P,O){var M=k.quotedList(O.get("fontFamily").toLowerCase()),L;for(var N=0;L=M[N];++N){if(F[L]){return F[L].get(O.get("fontStyle"),O.get("fontWeight"))}}return null}function E(L){return document.getElementsByTagName(L)}function y(M,L){return M.hasOwnProperty(L)}function z(){var P={},L,O;for(var N=0,M=arguments.length;L=arguments[N],N<M;++N){for(O in L){if(y(L,O)){P[O]=L[O]}}}return P}function a(O,X,L,W,P,N){var M=document.createDocumentFragment(),T;if(X===""){return M}var V=W.separate;var R=X.split(m[V]),U=(V=="words");if(U&&r){if(/^\s/.test(X)){R.unshift("")}if(/\s$/.test(X)){R.push("")}}for(var S=0,Q=R.length;S<Q;++S){T=H[W.engine](O,U?k.textAlign(R[S],L,S,Q):R[S],L,W,P,N,S<Q-1);if(T){M.appendChild(T)}}return M}function I(M,L,N){if(M.removeEventListener){M.removeEventListener(L,N,false)}else{if(M.detachEvent){M.detachEvent("on"+L,N)}}}function b(M,S){var ad=M.nodeName.toLowerCase();if(S.ignore[ad]){return}if(S.ignoreClass&&S.ignoreClass.test(M.className)){return}if(S.onBeforeReplace){S.onBeforeReplace(M,S)}var ac=!S.textless[ad],ab=(S.trim==="simple");var Z=k.getStyle(u(M,S)).extend(S);if(parseFloat(Z.get("fontSize"))===0){return}var V=s(M,Z),Y,P,W,Q,U,aa;var X=S.softHyphens,N=false,R,T,O=/\u00ad/g;var L=S.modifyText;if(!V){return}for(Y=M.firstChild;Y;Y=W){P=Y.nodeType;W=Y.nextSibling;if(ac&&P==3){if(X&&M.nodeName.toLowerCase()!=v){R=Y.data.indexOf("\u00ad");if(R>=0){Y.splitText(R);W=Y.nextSibling;W.deleteData(0,1);T=document.createElement(v);T.appendChild(document.createTextNode("\u00ad"));M.insertBefore(T,W);W=T;N=true}}if(Q){Q.appendData(Y.data);M.removeChild(Y)}else{Q=Y}if(W){continue}}if(Q){U=Q.data;if(!X){U=U.replace(O,"")}U=k.whiteSpace(U,Z,Q,aa,ab);if(L){U=L(U,Q,M,S)}M.replaceChild(a(V,U,Z,S,Y,M),Q);Q=null}if(P==1){if(Y.firstChild){if(Y.nodeName.toLowerCase()=="cufon"){H[S.engine](V,null,Z,S,Y,M)}else{arguments.callee(Y,S)}}aa=Y}}if(X&&N){e(M);if(!h){B(window,"resize",g)}h=true}if(S.onAfterReplace){S.onAfterReplace(M,S)}}function e(M){var Q,S,T,R,L,P,N,O;Q=M.getElementsByTagName(v);for(O=0;S=Q[O];++O){S.className=f;R=T=S.parentNode;if(R.nodeName.toLowerCase()!=j){L=document.createElement(j);L.appendChild(S.previousSibling);T.insertBefore(L,S);L.appendChild(S)}else{R=R.parentNode;if(R.nodeName.toLowerCase()==j){T=R.parentNode;while(R.firstChild){T.insertBefore(R.firstChild,R)}T.removeChild(R)}}}for(O=0;S=Q[O];++O){S.className="";R=S.parentNode;T=R.parentNode;P=R.nextSibling||T.nextSibling;N=(P.nodeName.toLowerCase()==j)?R:S.previousSibling;if(N.offsetTop>=P.offsetTop){S.className=f;if(N.offsetTop<P.offsetTop){L=document.createElement(j);T.insertBefore(L,R);L.appendChild(R);L.appendChild(P)}}}}function g(){if(x){return}k.addClass(q.root(),K);clearTimeout(J);J=setTimeout(function(){x=true;k.removeClass(q.root(),K);e(document);x=false},100)}var r=" ".split(/\s+/).length==0;var j="cufonglue";var v="cufonshy";var f="cufon-shy-disabled";var K="cufon-viewport-resizing";var c=new n();var o=new w();var G=new p();var i=false;var h=false;var J;var x=false;var H={},F={},D={autoDetect:false,engine:null,forceHitArea:false,hover:false,hoverables:{a:true},ignore:{applet:1,canvas:1,col:1,colgroup:1,head:1,iframe:1,map:1,noscript:1,optgroup:1,option:1,script:1,select:1,style:1,textarea:1,title:1,pre:1},ignoreClass:null,modifyText:null,onAfterReplace:null,onBeforeReplace:null,printable:true,selector:(window.Sizzle||(window.jQuery&&function(L){return jQuery(L)})||(window.dojo&&dojo.query)||(window.glow&&glow.dom&&glow.dom.get)||(window.Ext&&Ext.query)||(window.YAHOO&&YAHOO.util&&YAHOO.util.Selector&&YAHOO.util.Selector.query)||(window.$$&&function(L){return $$(L)})||(window.$&&function(L){return $(L)})||(document.querySelectorAll&&function(L){return document.querySelectorAll(L)})||E),separate:"words",softHyphens:true,textless:{dl:1,html:1,ol:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,ul:1},textShadow:"none",trim:"advanced"};var m={words:/\s/.test("\u00a0")?/[^\S\u00a0]+/:/\s+/,characters:"",none:/^/};d.now=function(){q.ready();return d};d.refresh=function(){G.repeat.apply(G,arguments);return d};d.registerEngine=function(M,L){if(!L){return d}H[M]=L;return d.set("engine",M)};d.registerFont=function(N){if(!N){return d}var M=new A(N),L=M.family;if(!F[L]){F[L]=new l()}F[L].add(M);return d.set("fontFamily",'"'+L+'"')};d.replace=function(L,N,M){N=z(D,N);if(!N.engine){return d}if(!i){k.addClass(q.root(),"cufon-active cufon-loading");k.ready(function(){k.addClass(k.removeClass(q.root(),"cufon-loading"),"cufon-ready")});i=true}if(N.hover){N.forceHitArea=true}if(N.autoDetect){delete N.fontFamily}if(typeof N.ignoreClass=="string"){N.ignoreClass=new RegExp("(?:^|\\s)(?:"+N.ignoreClass.replace(/\s+/g,"|")+")(?:\\s|$)")}if(typeof N.textShadow=="string"){N.textShadow=k.textShadow(N.textShadow)}if(typeof N.color=="string"&&/^-/.test(N.color)){N.textGradient=k.gradient(N.color)}else{delete N.textGradient}if(!M){G.add(L,arguments)}if(L.nodeType||typeof L=="string"){L=[L]}k.ready(function(){for(var P=0,O=L.length;P<O;++P){var Q=L[P];if(typeof Q=="string"){d.replace(N.selector(Q),N,true)}else{b(Q,N)}}});return d};d.set=function(L,M){D[L]=M;return d};return d})();Cufon.registerEngine("vml",(function(){var e=document.namespaces;if(!e){return}e.add("cvml","urn:schemas-microsoft-com:vml");e=null;var b=document.createElement("cvml:shape");b.style.behavior="url(#default#VML)";if(!b.coordsize){return}b=null;var h=(document.documentMode||0)<8;document.write(('<style type="text/css">cufoncanvas{text-indent:0;}@media screen{cvml\\:shape,cvml\\:rect,cvml\\:fill,cvml\\:shadow{behavior:url(#default#VML);display:block;antialias:true;position:absolute;}cufoncanvas{position:absolute;text-align:left;}cufon{display:inline-block;position:relative;vertical-align:'+(h?"middle":"text-bottom")+";}cufon cufontext{position:absolute;left:-10000in;font-size:1px;text-align:left;}cufonshy.cufon-shy-disabled,.cufon-viewport-resizing cufonshy{display:none;}cufonglue{white-space:nowrap;display:inline-block;}.cufon-viewport-resizing cufonglue{white-space:normal;}a cufon{cursor:pointer}}@media print{cufon cufoncanvas{display:none;}}</style>").replace(/;/g,"!important;"));function c(i,j){return f(i,/(?:em|ex|%)$|^[a-z-]+$/i.test(j)?"1em":j)}function f(k,m){if(!isNaN(m)||/px$/i.test(m)){return parseFloat(m)}var j=k.style.left,i=k.runtimeStyle.left;k.runtimeStyle.left=k.currentStyle.left;k.style.left=m.replace("%","em");var l=k.style.pixelLeft;k.style.left=j;k.runtimeStyle.left=i;return l}function a(m,l,k,i){var j="computed"+i,n=l[j];if(isNaN(n)){n=l.get(i);l[j]=n=(n=="normal")?0:~~k.convertFrom(f(m,n))}return n}var g={};function d(p){var q=p.id;if(!g[q]){var n=p.stops,o=document.createElement("cvml:fill"),m=[];o.type="gradient";o.angle=180;o.focus="0";o.method="none";o.color=n[0][1];for(var l=1,i=n.length-1;l<i;++l){m.push(n[l][0]*100+"% "+n[l][1])}o.colors=m.join(",");o.color2=n[i][1];g[q]=o}return g[q]}return function(ae,I,Y,F,N,ad,W){var Z=(I===null);if(Z){I=N.alt}var M=ae.viewBox;var p=Y.computedFontSize||(Y.computedFontSize=new Cufon.CSS.Size(c(ad,Y.get("fontSize"))+"px",ae.baseSize));var C,V;if(Z){C=N;V=N.firstChild}else{C=document.createElement("cufon");C.className="cufon cufon-vml";C.alt=I;V=document.createElement("cufoncanvas");C.appendChild(V);if(F.printable){var aa=document.createElement("cufontext");aa.appendChild(document.createTextNode(I));C.appendChild(aa)}if(!W){C.appendChild(document.createElement("cvml:shape"))}}var ai=C.style;var u=V.style;var af=p.convert(M.height),l=Math.ceil(af);var T=l/af;var v=T*Cufon.CSS.fontStretch(Y.get("fontStretch"));var U=M.minX,S=M.minY;u.height=l;u.top=Math.round(p.convert(S-ae.ascent));u.left=Math.round(p.convert(U));ai.height=p.convert(ae.height)+"px";var J=Y.get("color");var ah=Cufon.CSS.textTransform(I,Y).split("");var O=ae.spacing(ah,a(ad,Y,p,"letterSpacing"),a(ad,Y,p,"wordSpacing"));if(!O.length){return null}var k=O.total;var L=-U+k+(M.width-O[O.length-1]);var ag=p.convert(L*v),o=Math.round(ag);var Q=L+","+M.height,n;var y="r"+Q+"ns";var x=F.textGradient&&d(F.textGradient);var X=ae.glyphs,q=0;var K=F.textShadow;var ac=-1,ab=0,A;while(A=ah[++ac]){var H=X[ah[ac]]||ae.missingGlyph,z;if(!H){continue}if(Z){z=V.childNodes[ab];while(z.firstChild){z.removeChild(z.firstChild)}}else{z=document.createElement("cvml:shape");V.appendChild(z)}z.stroked="f";z.coordsize=Q;z.coordorigin=n=(U-q)+","+S;z.path=(H.d?"m"+H.d+"xe":"")+"m"+n+y;z.fillcolor=J;if(x){z.appendChild(x.cloneNode(false))}var m=z.style;m.width=o;m.height=l;if(K){var s=K[0],r=K[1];var E=Cufon.CSS.color(s.color),G;var w=document.createElement("cvml:shadow");w.on="t";w.color=E.color;w.offset=s.offX+","+s.offY;if(r){G=Cufon.CSS.color(r.color);w.type="double";w.color2=G.color;w.offset2=r.offX+","+r.offY}w.opacity=E.opacity||(G&&G.opacity)||1;z.appendChild(w)}q+=O[ab++]}var P=z.nextSibling,t,D;if(F.forceHitArea){if(!P){P=document.createElement("cvml:rect");P.stroked="f";P.className="cufon-vml-cover";t=document.createElement("cvml:fill");t.opacity=0;P.appendChild(t);V.appendChild(P)}D=P.style;D.width=o;D.height=l}else{if(P){V.removeChild(P)}}ai.width=Math.max(Math.ceil(p.convert(k*v)),0);if(h){var R=Y.computedYAdjust;if(R===undefined){var B=Y.get("lineHeight");if(B=="normal"){B="1em"}else{if(!isNaN(B)){B+="em"}}Y.computedYAdjust=R=0.5*(f(ad,B)-parseFloat(ai.height))}if(R){ai.marginTop=Math.ceil(R)+"px";ai.marginBottom=R+"px"}}return C}})());Cufon.registerEngine("canvas",(function(){var a=document.createElement("canvas");if(!a||!a.getContext||!a.getContext.apply){return}a=null;var d=Cufon.CSS.supports("display","inline-block");var e=!d&&(document.compatMode=="BackCompat"||/frameset|transitional/i.test(document.doctype.publicId));var f=document.createElement("style");f.type="text/css";f.appendChild(document.createTextNode(("cufon{text-indent:0;}@media screen,projection{cufon{display:inline;display:inline-block;position:relative;vertical-align:middle;"+(e?"":"font-size:1px;line-height:1px;")+"}cufon cufontext{display:-moz-inline-box;display:inline-block;width:0;height:0;text-align:left;text-indent:-10000in;}"+(d?"cufon canvas{position:relative;}":"cufon canvas{position:absolute;}")+"cufonshy.cufon-shy-disabled,.cufon-viewport-resizing cufonshy{display:none;}cufonglue{white-space:nowrap;display:inline-block;}.cufon-viewport-resizing cufonglue{white-space:normal;}}@media print{cufon{padding:0;}cufon canvas{display:none;}}").replace(/;/g,"!important;")));document.getElementsByTagName("head")[0].appendChild(f);function c(p,g){var n=0,m=0;var h=[],o=/([mrvxe])([^a-z]*)/g,k;generate:for(var j=0;k=o.exec(p);++j){var l=k[2].split(",");switch(k[1]){case"v":h[j]={m:"bezierCurveTo",a:[n+~~l[0],m+~~l[1],n+~~l[2],m+~~l[3],n+=~~l[4],m+=~~l[5]]};break;case"r":h[j]={m:"lineTo",a:[n+=~~l[0],m+=~~l[1]]};break;case"m":h[j]={m:"moveTo",a:[n=~~l[0],m=~~l[1]]};break;case"x":h[j]={m:"closePath"};break;case"e":break generate}g[h[j].m].apply(g,h[j].a)}return h}function b(m,k){for(var j=0,h=m.length;j<h;++j){var g=m[j];k[g.m].apply(k,g.a)}}return function(W,D,P,A,H,V){var Q=(D===null);if(Q){D=H.getAttribute("alt")}var F=W.viewBox;var n=P.getSize("fontSize",W.baseSize);var G=0,m=0,o=0,B=0;var E=A.textShadow,q=[];if(E){for(var U=E.length;U--;){var t=E[U];var L=n.convertFrom(parseFloat(t.offX));var K=n.convertFrom(parseFloat(t.offY));q[U]=[L,K];if(K<G){G=K}if(L>m){m=L}if(K>o){o=K}if(L<B){B=L}}}var Z=Cufon.CSS.textTransform(D,P).split("");var J=W.spacing(Z,~~n.convertFrom(parseFloat(P.get("letterSpacing"))||0),~~n.convertFrom(parseFloat(P.get("wordSpacing"))||0));if(!J.length){return null}var h=J.total;m+=F.width-J[J.length-1];B+=F.minX;var z,O;if(Q){z=H;O=H.firstChild}else{z=document.createElement("cufon");z.className="cufon cufon-canvas";z.setAttribute("alt",D);O=document.createElement("canvas");z.appendChild(O);if(A.printable){var S=document.createElement("cufontext");S.appendChild(document.createTextNode(D));z.appendChild(S)}}var aa=z.style;var r=O.style;var Y=n.convert(F.height);var j=Math.ceil(Y);var N=j/Y;var s=N*Cufon.CSS.fontStretch(P.get("fontStretch"));var M=h*s;var k=Math.ceil(n.convert(M+m-B));var p=Math.ceil(n.convert(F.height-G+o));O.width=k;O.height=p;r.width=k+"px";r.height=p+"px";G+=F.minY;r.top=Math.round(n.convert(G-W.ascent))+"px";r.left=Math.round(n.convert(B))+"px";var w=Math.max(Math.ceil(n.convert(M)),0)+"px";if(d){aa.width=w;aa.height=n.convert(W.height)+"px"}else{aa.paddingLeft=w;aa.paddingBottom=(n.convert(W.height)-1)+"px"}var X=O.getContext("2d"),I=Y/F.height;X.scale(I,I*N);X.translate(-B,-G);X.save();function T(){var l=W.glyphs,ab,x=-1,g=-1,y;X.scale(s,1);while(y=Z[++x]){var ab=l[Z[x]]||W.missingGlyph;if(!ab){continue}if(ab.d){X.beginPath();if(ab.code){b(ab.code,X)}else{ab.code=c("m"+ab.d,X)}X.fill()}X.translate(J[++g],0)}X.restore()}if(E){for(var U=E.length;U--;){var t=E[U];X.save();X.fillStyle=t.color;X.translate.apply(X,q[U]);T()}}var v=A.textGradient;if(v){var C=v.stops,u=X.createLinearGradient(0,F.minY,0,F.maxY);for(var U=0,R=C.length;U<R;++U){u.addColorStop.apply(u,C[U])}X.fillStyle=u}else{X.fillStyle=P.get("color")}T();return z}})());